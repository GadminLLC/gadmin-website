---
import Button from '@/shared/components/Button.astro'
import Footer from '@/shared/components/Footer.astro'
import Nav from '@/shared/components/Nav.astro'
import Check from '@/shared/components/icons/Check.astro'
import Layout from '@/shared/layouts/Layout.astro'

import PricingTable from '@/web/PricingTable.astro'
---

<Layout
  title='Gadmin - Planes y precios'
  description='Descubre los planes que Gadmin tiene para ti y empieza tu tienda online hoy mismo desde $4.99 al mes.'
>
  <Nav />
  <div class='pricing'>
    <div class='wrapper pricing__wrapper'>
      <p class='pricing__section-name' data-aos='zoom-in'>Precios</p>
      <h1 class='pricing__title' data-aos='fade-right'>
        Planes para negocios de todos los tama√±os
      </h1>
      <h2 class='pricing__subtitle' data-aos='fade-left'>
        Elija un plan asequible que incluya las mejores funciones para su tienda.
      </h2>
      <div class='pricing__tabs-container' data-aos='flip-down'>
        <div class='pricing__tabs'>
          <div class='pricing__tab pricing__tab--selected' data-tab='monthly'>Mensual</div>
          <div class='pricing__tab' data-tab='yearly' title='¬°Ahorra hasta un 30%!'>
            Anual (-30%)
          </div>
          <div class='pricing__tabs-background'></div>
        </div>
      </div>
      <div class='pricing__cards-container' data-aos='flip-left'>
        <div class='pricing__cards'>
          <div class='pricing__card' data-aos='flip-left'>
            <h3 class='pricing__card-name'>Bronce ü§é</h3>
            <p class='pricing__card-description'>
              Perfecto para nuevos emprendimientos o tiendas de 1 solo producto estrella.
            </p>
            <div class='pricing__card-price'>
              <div id='price-bronze' class='pricing__card-price-value'>$84</div>
              <div id='price-bronze-billing' class='pricing__card-price-billing'>/mes</div>
            </div>
            <div class='pricing__card-price-helper'>
              <span id='price-bronze-before'>$120</span>
            </div>
            <Button
              mode='default'
              type='gray'
              href='https://stores.gadmin.app/login'
              target='_blank'>Pru√©balo gratis</Button
            >
            <div class='pricing__features'>
              <div class='pricing__feature'>
                <Check size={24} />
                <p class='pricing__feature-text'>Ventas ilimitadas sin comisi√≥n</p>
              </div>
              <div class='pricing__feature'>
                <Check size={24} />
                <p class='pricing__feature-text'>Hasta 50 productos</p>
              </div>
              <div class='pricing__feature'>
                <Check size={24} />
                <p class='pricing__feature-text'>5 im√°genes por producto</p>
              </div>
              <div class='pricing__feature'>
                <Check size={24} />
                <p class='pricing__feature-text'>5 variantes por producto</p>
              </div>
              <div class='pricing__feature'>
                <Check size={24} />
                <p class='pricing__feature-text'>Configurar dominio propio</p>
              </div>
            </div>
          </div>
          <div class='pricing__card pricing__card--silver' data-aos='flip-up'>
            <div class='pricing__card-badge'>Recomendado</div>
            <h3 class='pricing__card-name'>Plata ü©∂</h3>
            <p class='pricing__card-description'>
              Ideal para tiendas de nicho y negocios que buscan escalar.
            </p>
            <div class='pricing__card-price'>
              <div id='price-silver' class='pricing__card-price-value'>$168</div>
              <div id='price-silver-billing' class='pricing__card-price-billing'>/mes</div>
            </div>
            <div class='pricing__card-price-helper'>
              <span id='price-silver-before'>$240</span>
            </div>
            <Button mode='default' href='https://stores.gadmin.app/login' target='_blank'
              >Pru√©balo gratis</Button
            >
            <div class='pricing__features'>
              <div class='pricing__feature'>
                <Check size={24} color='#ffffff' />
                <p class='pricing__feature-text'>Hasta 100 productos</p>
              </div>
              <div class='pricing__feature'>
                <Check size={24} color='#ffffff' />
                <p class='pricing__feature-text'>10 im√°genes por producto</p>
              </div>
              <div class='pricing__feature'>
                <Check size={24} color='#ffffff' />
                <p class='pricing__feature-text'>10 variantes por producto</p>
              </div>
              <div class='pricing__feature'>
                <Check size={24} color='#ffffff' />
                <p class='pricing__feature-text'>Tienda multimoneda</p>
              </div>
              <div class='pricing__feature' title='¬°Tu propio dominio 100% gratis!'>
                <Check size={24} color='#ffffff' />
                <p class='pricing__feature-text'>üéÅ Dominio .COM de regalo</p>
              </div>
            </div>
          </div>
          <div class='pricing__card' data-aos='flip-right'>
            <h3 class='pricing__card-name'>Oro üíõ</h3>
            <p class='pricing__card-description'>
              Para grandes tiendas con alta demanda y cat√°logos extensos.
            </p>

            <div class='pricing__card-price'>
              <div id='price-gold' class='pricing__card-price-value'>$891</div>
              <div id='price-gold-billing' class='pricing__card-price-billing'>/a√±o</div>
            </div>
            <div class='pricing__card-price-helper'>
              <span id='price-gold-before'>$1188</span>
            </div>
            <Button
              mode='default'
              type='gray'
              href='https://stores.gadmin.app/login'
              target='_blank'>Pru√©balo gratis</Button
            >
            <div class='pricing__features'>
              <div class='pricing__feature'>
                <Check size={24} />
                <p class='pricing__feature-text'>Hasta 1000 productos</p>
              </div>
              <div class='pricing__feature'>
                <Check size={24} />
                <p class='pricing__feature-text'>20 im√°genes por producto</p>
              </div>
              <div class='pricing__feature'>
                <Check size={24} />
                <p class='pricing__feature-text'>Variantes ilimitadas</p>
              </div>
              <div class='pricing__feature'>
                <Check size={24} />
                <p class='pricing__feature-text'>Tienda con soporte en varios idiomas</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class='pricing__table-container'>
        <PricingTable />
        <div>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lor
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae
              ex eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
              natus beatae, quaerat laborum accusamus numquam! Doloribus?
            </p>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae
              ex eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
              natus beatae, quaerat laborum accusamus numquam! Doloribus?
            </p>em ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae
            ex eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis molestias vitae ex
            eum numquam iusto explicabo quo? Perspiciatis provident ab repellendus quod tempore
            natus beatae, quaerat laborum accusamus numquam! Doloribus?
          </p>
        </div>
      </div>
    </div>
  </div>
  <Footer />
</Layout>

<style>
  .pricing {
    background-color: #0eaaf9;
    background-image: linear-gradient(135deg, #01283c, #0b321c);
    min-height: calc(100svh - 6rem);
    padding-top: 10rem;
    padding-bottom: 4rem;
  }

  .pricing__section-name {
    text-align: center;
    color: var(--primary);
    font-size: var(--32-pt);
    font-weight: bold;
    margin: 0;
  }

  .pricing__table-container {
    width: 100%;
    height: 100%;
    position: relative;
  }

  .pricing__title {
    text-align: center;
    color: white;
    font-size: var(--48-pt);
    margin: 1rem 0;
    padding: 0 1rem;
  }

  .pricing__subtitle {
    text-align: center;
    font-size: var(--32-pt);
    font-weight: 500;
    margin: 2rem;
    color: var(--primary-3);
  }

  .pricing__tabs-container {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .pricing__tabs {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    gap: 1rem;
    padding: 1rem;
    margin: 0 1rem;
    width: fit-content;
    border-radius: 1rem;
    background-color: var(--white);
  }

  .pricing__tab {
    padding: 0.75rem 1rem;
    background-color: transparent;
    border-radius: 0.5rem;
    font-weight: bold;
    position: relative;
    z-index: 1;
    transition: 0.2s ease color;
    cursor: default;
  }

  .pricing__tab:hover:not(.pricing__tab--selected) {
    color: var(--shade-04);
  }

  .pricing__tabs-background {
    position: absolute;
    top: 0;
    left: 0;
    background-image: linear-gradient(to right, var(--primary), var(--secondary));
    border-radius: 0.5rem;
    transition:
      width 0.3s ease,
      transform 0.3s ease;
  }

  .pricing__cards-container {
    position: relative;
    padding: 1rem;
    margin-bottom: 2rem;
  }

  .pricing__cards {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    align-items: flex-end;
    gap: 1.5rem;
    margin-top: 4rem;
    background-color: var(--white);
    padding: 1rem;
    border-radius: 1rem;
  }

  .pricing__card-badge {
    text-transform: uppercase;
    background-color: #52d689;
    padding: 0.5rem 1rem;
    border-radius: 1rem;
    width: fit-content;
    margin: 0 0 0 auto;
    font-weight: bold;
    font-size: 0.7rem;
  }

  .pricing__card {
    padding: 1rem 2rem;
    border-radius: 1rem;
  }

  .pricing__card-name {
    margin: 0.5rem 0;
    font-size: var(--32-pt);
    color: var(--shade-03);
  }

  .pricing__card-description {
    margin: 0.5rem 0;
    color: var(--neutral-08);
  }

  .pricing__card-price {
    display: flex;
    align-items: center;
    margin: 0;
    margin-top: 1.5rem;
    gap: 0.5rem;
  }

  .pricing__card-price-value {
    font-size: var(--40-pt);
    font-weight: bold;
    color: var(--shade-03);
  }

  .pricing__card-price-billing {
    color: var(--neutral-08);
  }

  .pricing__card-price-helper {
    margin: 0;
    padding-bottom: 1.5rem;
    color: var(--neutral-08);
    text-decoration-line: line-through;
    text-decoration-color: var(--primary);
    transition:
      0.2s ease opacity,
      0.2s ease padding-bottom;
  }

  .pricing__card--silver {
    position: relative;
    top: -2rem;
    background-color: var(--shade-03);
    height: calc(100% + 0.5rem);
  }

  .pricing__card--silver .pricing__card-name {
    color: var(--white);
  }

  .pricing__card--silver .pricing__card-description {
    color: var(--neutral-03);
  }

  .pricing__card--silver .pricing__card-price-value {
    color: var(--neutral-02);
  }

  .pricing__card--silver .pricing__card-price-billing {
    color: var(--neutral-03);
  }

  .pricing__card--silver .pricing__card-price-helper {
    color: var(--neutral-03);
  }

  .pricing__cards--monthly .pricing__card-price-helper {
    opacity: 0;
    padding-bottom: 0.5rem;
  }

  .pricing__features {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 1.5rem;
  }

  .pricing__feature {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .pricing__feature-text {
    margin: 0;
  }

  .pricing__card--silver .pricing__feature-text {
    color: var(--neutral-02);
  }

  @media screen and (max-width: 768px) {
    .pricing {
      padding-top: 6rem;
    }

    .pricing__cards-container {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .pricing__cards {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin: 1rem;
      margin-top: 2rem;
      width: fit-content;
    }

    .pricing__card {
      padding: 1rem;
      width: 100%;
      max-width: 420px;
      margin: 0 auto;
    }

    .pricing__card--silver {
      top: 0;
      height: fit-content;
    }
  }
</style>

<script>
  import { pricingByBilling } from '../web/data/pricing'

  const initBillingTabs = () => {
    const billingTabs = document.querySelectorAll('.pricing__tab')

    const changeBillingType = (target: HTMLElement) => {
      billingTabs.forEach((billingTab) => billingTab.classList.remove('pricing__tab--selected'))

      const background = document.querySelector('.pricing__tabs-background')
      if (target instanceof HTMLElement && background instanceof HTMLElement) {
        target.classList.add('pricing__tab--selected')

        // * Animate background of tab
        const [tabWidth, tabHeight] = [target.offsetWidth, target.offsetHeight]
        const [tabLeft, tabTop] = [target.offsetLeft, target.offsetTop]

        background.style.width = tabWidth + 'px'
        background.style.height = tabHeight + 'px'
        background.style.transform = `translate(${tabLeft}px, ${tabTop}px)`

        // * Modify Pricing Data
        const billingType = target?.dataset?.tab as 'monthly' | 'yearly'
        const pricing = pricingByBilling[billingType]
        const monthlyPricing = pricingByBilling['monthly']

        const pricingCards = document.querySelector('.pricing__cards')
        if (pricingCards) {
          pricingCards.classList.remove('pricing__cards--monthly')
          pricingCards.classList.remove('pricing__cards--yearly')
          pricingCards.classList.add(`pricing__cards--${billingType}`)
        }

        // * Bronze
        const bronzePrice = document.getElementById('price-bronze')
        const bronzeBilling = document.getElementById('price-bronze-billing')
        const bronzeBeforePrice = document.getElementById('price-bronze-before')

        if (bronzePrice && bronzeBeforePrice && bronzeBilling) {
          const price = pricing.bronze.price
          bronzePrice.innerText = `$${parseFloat(price.toFixed(2))}`
          bronzeBeforePrice.innerText = `$${monthlyPricing.bronze.price * 12}/a√±o`

          bronzeBilling.innerText = billingType === 'yearly' ? '/a√±o' : '/mes'
        }

        // * Silver
        const silverPrice = document.getElementById('price-silver')
        const silverBilling = document.getElementById('price-silver-billing')
        const silverBeforePrice = document.getElementById('price-silver-before')

        if (silverPrice && silverBeforePrice && silverBilling) {
          const price = pricing.silver.price
          silverPrice.innerText = `$${parseFloat(price.toFixed(2))}`
          silverBeforePrice.innerText = `$${monthlyPricing.silver.price * 12}/a√±o`

          silverBilling.innerText = billingType === 'yearly' ? '/a√±o' : '/mes'
        }

        // * Gold
        const goldPrice = document.getElementById('price-gold')
        const goldBilling = document.getElementById('price-gold-billing')
        const goldBeforePrice = document.getElementById('price-gold-before')

        if (goldPrice && goldBeforePrice && goldBilling) {
          const price = pricing.gold.price
          goldPrice.innerText = `$${parseFloat(price.toFixed(2))}`
          goldBeforePrice.innerText = `$${monthlyPricing.gold.price * 12}/a√±o`

          goldBilling.innerText = billingType === 'yearly' ? '/a√±o' : '/mes'
        }
      }
    }

    billingTabs.forEach((tab) => {
      tab.addEventListener('click', (ev) => {
        changeBillingType(ev.target as HTMLElement)
      })
    })

    const selectedTab = document.querySelector('.pricing__tab--selected')
    if (selectedTab) {
      changeBillingType(selectedTab as HTMLElement)
    }
  }

  initBillingTabs()
</script>
