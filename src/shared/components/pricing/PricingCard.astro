---
import Button from '@/shared/components/Button.astro'
import Check from '@/shared/components/icons/Check.astro'

interface Props {
  name: string
  description: string
  features: string[]
  recommended?: boolean
  card: 'bronze' | 'silver' | 'gold'
}

const { card, name, description, features, recommended }: Props = Astro.props

const recommendedClass = recommended ? 'pricing__card--recommended' : ''
---

<div class=`pricing__card ${recommendedClass}` data-aos='flip-left'>
  <div class='pricing__card-badge'>Recomendado</div>
  <h3 class='pricing__card-name'>{name}</h3>
  <p class='pricing__card-description'>
    {description}
  </p>
  <div class='pricing__card-price'>
    <div id=`price-${card}` class='pricing__card-price-value'>$84</div>
    <div id=`price-${card}-billing` class='pricing__card-price-billing'>/mes</div>
  </div>
  <div class='pricing__card-price-helper'>
    <span id=`price-${card}-before`>$120</span>
  </div>
  <Button
    mode='default'
    type={recommended ? 'gradient' : 'gray'}
    href='https://stores.gadmin.app/login'
    target='_blank'>Pru√©balo gratis</Button
  >
  <div class='pricing__features'>
    <div class=`pricing__feature ${features[0] === undefined ? "pricing__feature--disabled" : ""}`>
      <Check size={24} color={recommended ? '#ffffff' : '#000000'} />
      <p class='pricing__feature-text'>{features[0]}</p>
    </div>
    <div class=`pricing__feature ${features[1] === undefined ? "pricing__feature--disabled" : ""}`>
      <Check size={24} color={recommended ? '#ffffff' : '#000000'} />
      <p class='pricing__feature-text'>{features[1]}</p>
    </div>
    <div class=`pricing__feature ${features[2] === undefined ? "pricing__feature--disabled" : ""}`>
      <Check size={24} color={recommended ? '#ffffff' : '#000000'} />
      <p class='pricing__feature-text'>{features[2]}</p>
    </div>
    <div class=`pricing__feature ${features[3] === undefined ? "pricing__feature--disabled" : ""}`>
      <Check size={24} color={recommended ? '#ffffff' : '#000000'} />
      <p class='pricing__feature-text'>{features[3]}</p>
    </div>
    <div class=`pricing__feature ${features[4] === undefined ? "pricing__feature--disabled" : ""}`>
      <Check size={24} color={recommended ? '#ffffff' : '#000000'} />
      <p class='pricing__feature-text'>{features[4]}</p>
    </div>
    <div class=`pricing__feature ${features[5] === undefined ? "pricing__feature--disabled" : ""}`>
      <Check size={24} color={recommended ? '#ffffff' : '#000000'} />
      <p class='pricing__feature-text'>{features[5]}</p>
    </div>
    <div class=`pricing__feature ${features[6] === undefined ? "pricing__feature--disabled" : ""}`>
      <Check size={24} color={recommended ? '#ffffff' : '#000000'} />
      <p class='pricing__feature-text'>{features[6]}</p>
    </div>
    <div class=`pricing__feature ${features[7] === undefined ? "pricing__feature--disabled" : ""}`>
      <Check size={24} color={recommended ? '#ffffff' : '#000000'} />
      <p class='pricing__feature-text'>{features[7]}</p>
    </div>
    <div class=`pricing__feature ${features[8] === undefined ? "pricing__feature--disabled" : ""}`>
      <Check size={24} color={recommended ? '#ffffff' : '#000000'} />
      <p class='pricing__feature-text'>{features[8]}</p>
    </div>
    <div class=`pricing__feature ${features[9] === undefined ? "pricing__feature--disabled" : ""}`>
      <Check size={24} color={recommended ? '#ffffff' : '#000000'} />
      <p class='pricing__feature-text'>{features[9]}</p>
    </div>
  </div>
</div>

<style>
  .pricing__card-badge {
    text-transform: uppercase;
    background-color: #52d689;
    padding: 0.5rem 1rem;
    border-radius: 1rem;
    width: fit-content;
    margin: 0 0 0 auto;
    font-weight: bold;
    font-size: 0.7rem;
    display: none;
  }

  .pricing__card--recommended .pricing__card-badge {
    display: block;
  }

  .pricing__card {
    padding: 1rem 2rem;
    border-radius: 1rem;
  }

  .pricing__card-name {
    margin: 0.5rem 0;
    font-size: var(--32-pt);
    color: var(--shade-03);
  }

  .pricing__card-description {
    margin: 0.5rem 0;
    color: var(--neutral-08);
  }

  .pricing__card-price {
    display: flex;
    align-items: center;
    margin: 0;
    margin-top: 1.5rem;
    gap: 0.5rem;
  }

  .pricing__card-price-value {
    font-size: var(--40-pt);
    font-weight: bold;
    color: var(--shade-03);
  }

  .pricing__card-price-billing {
    color: var(--neutral-08);
  }

  .pricing__card-price-helper {
    margin: 0;
    padding-bottom: 1.5rem;
    color: var(--neutral-08);
    text-decoration-line: line-through;
    text-decoration-color: var(--primary);
    transition:
      0.2s ease opacity,
      0.2s ease padding-bottom;
  }

  .pricing__card--recommended {
    position: relative;
    top: -2rem;
    background-color: var(--shade-03);
    height: calc(100% + 0.5rem);
  }

  .pricing__card--recommended .pricing__card-name {
    color: var(--white);
  }

  .pricing__card--recommended .pricing__card-description {
    color: var(--neutral-03);
  }

  .pricing__card--recommended .pricing__card-price-value {
    color: var(--neutral-02);
  }

  .pricing__card--recommended .pricing__card-price-billing {
    color: var(--neutral-03);
  }

  .pricing__card--recommended .pricing__card-price-helper {
    color: var(--neutral-03);
  }

  .pricing__cards--monthly .pricing__card-price-helper {
    opacity: 0;
    padding-bottom: 0.5rem;
  }

  .pricing__features {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 1.5rem;
  }

  .pricing__feature {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .pricing__feature-text {
    margin: 0;
  }

  .pricing__feature--disabled {
    display: none;
  }

  .pricing__card--recommended .pricing__feature-text {
    color: var(--neutral-02);
  }
</style>
